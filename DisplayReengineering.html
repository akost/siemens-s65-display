<!DOCTYPE html>
<html> <head>

<link type="text/css" rel="stylesheet" href="/static/css/banner-styles.css"/>


<meta charset="UTF-8">
<meta name="robots" content="index,follow">
<link rel="stylesheet" type="text/css" href="superkranz.css">
<meta name="author" content="Christian Kranz">
<title>Display Reengineering</title></head>
<body>


<div id="Content"> </div>

<CENTER>
<H1><img SRC="pics/S65_picture.jpg" ALIGN="left" alt="picture from S65">Reengineering the S65 Display</H1>
by <A HREF="index.html">Christian Kranz</A>, October 2005<br>
<!-Updated: April 8, 2006>
</CENTER>

<p>
The Siemens S65 display is a special manufacturing for the Siemens AG (now Siemens/BenQ). Because of that it is very difficult to get data sheets for the used display controller. The display is a product of Seiko-Epson but does not response to the known Epson display commands (also not to the commands of relative new epson 16-bit controller). Because of that i decided to do a re-engineering of the display interface using a S65 mobile phone.
</p>

<p>
  <A HREF="pics/open_S65_mp_large.jpg"> <img SRC="pics/open_S65_mp_small.jpg" ALIGN="right" alt="open S65"> </a>
  <A HREF="pics/Display_connect.jpg"> <img SRC="pics/Display_connect_small.jpg" ALIGN="left" alt="display connector"> </a>
  
It was easy to figure out that Siemens uses a serial two wire interface with additional chip select, a command/data signal (usually called RS) and a reset signal. The clock frequency of the serial interface is 13MHz. Supply voltages are 2.9V for the display driver and 1.8V for the digital interface. In addition there are two supply pins for the four white backlight LED's. The LED's are serial connected and buffered with a capacitance on the display board. The serial connection ensures a very constant light intensity distribution. That is because each LED is driven by the same current. The disadvantage is that a relative high voltage is needed for driving the LEDs. The LED voltage was measured to 10.4V at 20mA for one display. But in the hardware section you can see that it is not very difficult to generate the voltage with a PWM signal generated by the µC. The display pin out can be seen on the figure on the left side. CS is the chip select line, CLK the clock line, DAT the data line, RS the command/data identification, 2V9 the 2.9V supply, 1V8 the 1.8V supply, LED+ the positive LED supply and LED_GND the negative LED supply. 
</p>


<p>
<A HREF="pics/measurement_example_large.jpg"> <img SRC="pics/measurement_example_small.jpg" ALIGN="left" alt="measurement example"> </a>
The display interface was measured using a HP (Agilent) 16-channel digital oscilloscope. (unfortunately a logic analyser was not available) The results together with a short description can be found in the  <A HREF="data/S65_Startup.zip"> S65_Startup.zip </a> file.
<br> 
The display commands and data are written in a 16-bit format like the example on the picture. A data bit is latched with the rising edge of the clock signal by the display controller.
</p>

<br>
<H3>Start Up Sequence</H3>

<p>
The following sequences for starting the display could be identified:
</p>

<b> Sequence 1: (time 0ms)</b>
<BLOCKQUOTE>
<OBJECT>
<PRE>
0xFDFD, 0xFDFD
</PRE>
</OBJECT>
</BLOCKQUOTE>



<b> Sequence 2: (time 68ms after start)</b>
<BLOCKQUOTE>
<OBJECT>
<PRE>
0xEF00, 0xEE04, 0x1B04, 0xFEFE, 0xFEFE
0xEF90, 0x4A04, 0x7F3F, 0xEE04, 0x4306
</PRE>
</OBJECT>
</BLOCKQUOTE>



<b> Sequence 3: (time 75ms after start) </b>
<BLOCKQUOTE>
<OBJECT>
<PRE>
0xEF90, 0x0983, 0x0800, 0x0BAF, 0x0A00, 0x0500, 0x0600, 0x0700
0xEF00
0xEE0C
0xEF90, 0x0080, 
0xEFB0, 0x4902
0xEF00
0x7F01, 0xE181
</PRE>
</OBJECT>
</BLOCKQUOTE>



<b> Sequence 4: (time 182ms after start) </b>
<BLOCKQUOTE>
<OBJECT>
<PRE>
0xE202
</PRE>
</OBJECT>
</BLOCKQUOTE>




<b> Sequence 5: (time 297ms after start) </b>
<BLOCKQUOTE>
<OBJECT>
<PRE>
0xE276
</PRE>
</OBJECT>
</BLOCKQUOTE>



<b> Sequence 6: (time 401ms after start) </b>
<BLOCKQUOTE>
<OBJECT>
<PRE>
0xE183
</PRE>
</OBJECT>
</BLOCKQUOTE>



<b> Sequence 7: (time 460ms after start) </b>
<BLOCKQUOTE>
<OBJECT>
<PRE>
0x8001
</PRE>
</OBJECT>
</BLOCKQUOTE>


<p>
In addition it could be measured, that Siemens always refreshes the screen at once. That means also if only parts of the screen are changed the complete display memory is refreshed. Reason for that is, that Siemens uses an display graphic controller like the s1d13732. This controller holds the display memory and writes the display content via hardware. Only the commands are generated by the µC. The sequence used by Siemens for writing the compete display is:</p>


<b> write complete display memory: </b>
<BLOCKQUOTE>
<OBJECT>
<PRE>
0xEF90, 0x0500, 0x0600, 0x0700
</PRE>
</OBJECT>
</BLOCKQUOTE>


<p>
After that the display data follows (with RS line low). Writing the display data takes 28.59ms which corresponds to (132*176*16=371712 bits with 13MHz clock frequency.
</p>

<H3>Power Down Sequence</H3>

<p>
Unfortunately the power down sequence could not be measured with the used equipment. It was not possible to find a proper trigger condition to get a reliable repeatable measurement of the power down sequence. Triggering to the backlight was possible but the memory of the digital scope was to small to catch the sequences. Unfortunately the backlight is switched off after the display is powered down. Spending more effort it might be possible to catch the power down sequence but that is not done up to now. The proposed sequence so far is reset of display and switching off the supply.
</p>


<br> 



</body>
</html> 


